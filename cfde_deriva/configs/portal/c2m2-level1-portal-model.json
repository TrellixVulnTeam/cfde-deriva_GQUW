{
   "profile": "tabular-data-package",
   "name": "denormalized_table_specs_for_level_1_c2m2",
   "title": "A customized C2M2 model augmented with Chaise display directives and extra (ETL) denormalized content",
   "resources": [

      {
         "profile": "tabular-data-resource",
         "name": "file",
         "title": "File",
         "description": "A digital asset",
         "schema": {
            "fields": [
               {
                  "name": "id_namespace",
                  "title": "ID Namespace",
                  "description": "ID of the identifier namespace corresponding to the top-level C2M2 metadataset containing this file",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "local_id",
                  "description": "An ID representing this file, unique within this id_namespace",
                  "type": "string",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "column_display": {
                        "*": {
                           "column_order": [{"column": "id_namespace"}, {"column": "id"}]
                        }
                     }
                  }
               },
               {
                  "name": "project_id_namespace",
                  "description": "ID of the identifier namespace for the primary project within which this file was created",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_local_id",
                  "description": "Foreign key identifying the primary project within which this file was created",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_root_id_namespace",
                  "description": "A computed id_namespace for the root project within which this file was created",
                  "type": "string",
                  "constraints": {
                     "required": false
                  },
                  "derivation_sql_path": "file_project_root.sql"
               },
               {
                  "name": "project_root_local_id",
                  "description": "A computed local_id for the root project within which this file was created",
                  "type": "string",
                  "constraints": {
                     "required": false
                  }
               },
               {
                  "name": "persistent_id",
                  "title": "Persistent ID",
                  "description": "A persistent, resolvable (not nec. retrievable) URI generated by a DCC (using, e.g., our minid server) and attached to this file",
                  "type": "string"
               },
               {
                  "name": "creation_time",
                  "description": "An ISO 8601 -- RFC 3339 (subset)-compliant timestamp documenting this file's creation time: YYYY-MM-DDTHH:MM:SSÂ±NN:NN",
                  "type": "datetime",
                  "format": "any"
               },
               {
                  "name": "size_in_bytes",
                  "description": "The size of this file in bytes",
                  "type": "integer"
               },
               {
                  "name": "uncompressed_size_in_bytes",
                  "description": "The total decompressed size in bytes of the contents of this file",
                  "type": "integer"
               },
               {
                  "name": "sha256",
                  "description": "The output of the SHA-256 cryptographic hash function after being run on this file: one or both of sha256 and md5 is required; sha256 is preferred",
                  "type": "string",
                  "format": "binary"
               },
               {
                  "name": "md5",
                  "description": "The output of the MD5 message-digest algorithm after being run as a cryptographic hash function on this file: one or both of sha256 and md5 is required; sha256 is preferred",
                  "type": "string",
                  "format": "binary"
               },
               {
                  "name": "filename",
                  "description": "A filename with no prepended PATH information.",
                  "type": "string",
                  "constraints": {
                     "pattern": "^[^\/\\:]+$"
                  }
               },
               {
                  "name": "file_format",
                  "description": "An EDAM CV term ID identifying the digital format of this file (e.g. TSV or FASTQ)",
                  "type": "string",
                  "constraints": {
                     "pattern": "^format:[0-9]+$"
                  }
               },
               {
                  "name": "data_type",
                  "description": "An EDAM CV term ID identifying the type of information stored in this file (e.g. RNA sequence reads)",
                  "type": "string",
                  "constraints": {
                     "pattern": "^data:[0-9]+$"
                  }
               },
               {
                  "name": "assay_type",
                  "description": "An OBI CV term ID describing the type of experiment that generated the results summarized by this file",
                  "type": "string",
                  "constraints": {
                     "pattern": "^OBI:[0-9]+$"
                  }
               },
               {
                  "name": "mime_type",
                  "description": "A MIME type describing this file",
                  "type": "string"
               },
               {
                  "name": "kw",
                  "description": "A pre-computed set of keywords/strings used by the CFDE search UI.",
                  "type": "array",
                  "derivation_sql_path": "file_kw.sql",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "id_namespace", "local_id" ],
            "foreignKeys": [
               {
                  "fields": "id_namespace",
                  "constraint_name": "file_id_namespace_fkey",
                  "reference": {
                     "resource": "id_namespace",
                     "fields": "id"
                  }
               },
               {
                  "fields": [ "project_id_namespace", "project_local_id" ],
                  "constraint_name": "file_project_fkey",
                  "reference": {
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "project_root_id_namespace", "project_root_local_id" ],
                  "constraint_name": "file_project_root_fkey",
                  "reference": {
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": "file_format",
                  "constraint_name": "file_file_format_fkey",
                  "reference": {
                     "resource": "file_format",
                     "fields": "id"
                  }
               },
               {
                  "fields": "data_type",
                  "constraint_name": "file_data_type_fkey",
                  "reference": {
                     "resource": "data_type",
                     "fields": "id"
                  }
               },
               {
                  "fields": "assay_type",
                  "constraint_name": "file_assay_type_fkey",
                  "reference": {
                     "resource": "assay_type",
                     "fields": "id"
                  }
               }
            ]
         },
         "deriva": {
            "export_2019": {
               "*": {
                  "templates": [
                     {
                        "displayname": "File BDBAG",
                        "type": "BAG",
                        "outputs": [
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "id_namespace,local_id,project_id_namespace,project_local_id,persistent_id,creation_time,size_in_bytes,uncompressed_size_in_bytes,sha256,md5,filename,file_format,data_type,assay_type,mime_type"
                              },
                              "destination": {
                                 "name": "file",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(project_id_namespace,project_local_id)=(CFDE:project_in_project_transitive:member_project_id_namespace,member_project_local_id)/(leader_project_id_namespace,leader_project_local_id)=(CFDE:project:id_namespace,local_id)/id_namespace,local_id,persistent_id,creation_time,abbreviation,name,description"
                              },
                              "destination": {
                                 "name": "project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(project_id_namespace,project_local_id)=(CFDE:project_in_project_transitive:member_project_id_namespace,member_project_local_id)/(leader_project_id_namespace,leader_project_local_id)=(CFDE:project_in_project:child_project_id_namespace,child_project_local_id)/parent_project_id_namespace,parent_project_local_id,child_project_id_namespace,child_project_local_id"
                              },
                              "destination": {
                                 "name": "project_in_project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(file_format)=(CFDE:file_format:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "file_format",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(data_type)=(CFDE:data_type:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "data_type",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(assay_type)=(CFDE:assay_type:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "assay_type",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:file_describes_biosample:file_id_namespace,file_local_id)/(biosample_id_namespace,biosample_local_id)=(CFDE:biosample:id_namespace,local_id)/id_namespace,local_id,project_id_namespace,project_local_id,persistent_id,creation_time,anatomy"
                              },
                              "destination": {
                                 "name": "biosample",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:file_describes_biosample:file_id_namespace,file_local_id)/(biosample_id_namespace,biosample_local_id)=(CFDE:biosample:id_namespace,local_id)/(anatomy)=(CFDE:anatomy:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "anatomy",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:file_describes_subject:file_id_namespace,file_local_id)/(subject_id_namespace,subject_local_id)=(CFDE:subject:id_namespace,local_id)/id_namespace,local_id,project_id_namespace,project_local_id,persistent_id,creation_time,granularity"
                              },
                              "destination": {
                                 "name": "subject",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:file_describes_subject:file_id_namespace,file_local_id)/(subject_id_namespace,subject_local_id)=(CFDE:subject:id_namespace,local_id)/(granularity)=(CFDE:subject_granularity:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "subject_granularity",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:file_describes_subject:file_id_namespace,file_local_id)/(subject_id_namespace,subject_local_id)=(CFDE:subject_role_taxonomy:subject_id_namespace,subject_local_id)/subject_id_namespace,subject_local_id,role_id,taxonomy_id"
                              },
                              "destination": {
                                 "name": "subject_role_taxonomy",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:file_describes_subject:file_id_namespace,file_local_id)/(subject_id_namespace,subject_local_id)=(CFDE:subject_role_taxonomy:subject_id_namespace,subject_local_id)/(role_id)=(CFDE:subject_role:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "subject_role",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:file_describes_subject:file_id_namespace,file_local_id)/(subject_id_namespace,subject_local_id)=(CFDE:subject_role_taxonomy:subject_id_namespace,subject_local_id)/(taxonomy_id)=(CFDE:ncbi_taxonomy:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "ncbi_taxonomy",
                                 "type": "csv"
                              }
                           }
                        ]
                     }
                  ]
               }
            },
            "table_display": {
               "row_name": {
                  "row_markdown_pattern": "{{_id_namespace}}{{_local_id}}"
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "search-box": {"or": [ {"source": "kw", "markdown_name": "file metadata, anatomy, taxonomy", "comment": "file name, format, data-type, assay-type, anatomy, taxonomy, subject granularity, project, or collection keywords"} ]},
                  "S_id_namespace": {
                     "comment": "The namespace qualifier for the file ID.",
                     "source": [{"outbound": ["CFDE", "file_id_namespace_fkey"]}, "RID"]
                  },
                  "S_project": {
                     "comment": "The project attributed as the source of the file.",
                     "source": [{"outbound": ["CFDE", "file_project_fkey"]}, "RID"]
                  },
                  "S_super_projects": {
                     "markdown_name": "Project",
                     "comment": "The project (or any super-projects) attributed as source of the file.",
                     "source": [
                        {"outbound": ["CFDE", "file_project_fkey"]},
                        {"inbound": ["CFDE", "project_in_project_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_transitive_leader_fkey"]},
                        "RID"
                     ]
                  },
                  "S_root_project": {
                     "markdown_name": "Common Fund Program",
                     "comment": "The Common Fund Program attributed as source of the file.",
                     "source": [
                        {"outbound": ["CFDE", "file_project_root_fkey"]},
                        "RID"
                     ]
                  },
                  "S_file_format": {
                     "comment": "The content format of the file.",
                     "source": [{"outbound": ["CFDE", "file_file_format_fkey"]}, "RID"]
                  },
                  "S_data_type": {
                     "comment": "The type of data represented by the file.",
                     "source": [{"outbound": ["CFDE", "file_data_type_fkey"]}, "RID"]
                  },
                  "S_creation_time": {
                     "comment": "The time when the file was created.",
                     "source": "creation_time"
                  },
                  "S_described_biosamples": {
                     "comment": "Biosamples described or characterized by the file.",
                     "source": [
                        {"inbound": ["CFDE", "file_describes_biosample_file_fkey"]},
                        {"outbound": ["CFDE", "file_describes_biosample_biosample_fkey"]},
                        "RID"
                     ]
                  },
                  "S_anatomy": {
                     "comment": "Anatomy for biosamples described by file.",
                     "source": [
                        {"inbound": ["CFDE", "file_anatomy_file_fkey"]},
                        {"outbound": ["CFDE", "file_anatomy_fkey"]},
                        "id"
                     ]
                  },
                  "S_assay_type": {
                     "comment": "Assay type used to generate the file.",
                     "source": [
                        {"outbound": ["CFDE", "file_assay_type_fkey"]},
                        "id"
                     ]
                  },
                  "S_described_subjects": {
                     "comment": "Subjects described or characterized by the file.",
                     "source": [
                        {"inbound": ["CFDE", "file_describes_subject_file_fkey"]},
                        {"outbound": ["CFDE", "file_describes_subject_subject_fkey"]},
                        "RID"
                     ]
                  },
                  "S_part_of_collections": {
                     "markdown_name": "Part of Collection",
                     "comment": "Collections with the file record as a directly or indirectly constituent member.",
                     "source": [
                        {"inbound": ["CFDE", "file_in_collection_file_fkey"]},
                        {"outbound": ["CFDE", "file_in_collection_collection_fkey"]},
                        {"inbound": ["CFDE", "collection_in_collection_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "collection_in_collection_transitive_leader_fkey"]},
                        "RID"
                     ]
                  },
                  "S_taxonomy": {
                     "markdown_name": "Subject Taxonomy",
                     "comment": "The taxonomy concept(s) characterizing subjects described directly or indirectly by the file.",
                     "source": [
                        {"inbound": ["CFDE", "file_subject_role_taxonomy_file_fkey"]},
                        {"outbound": ["CFDE", "file_subject_role_taxonomy_taxonomy_fkey"]},
                        "RID"
                     ]
                  }
               }
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_described_biosamples"},
                  {"sourcekey": "S_described_subjects"},
                  {"sourcekey": "S_part_of_collections"}
               ]
            },
            "visible_columns": {
               "compact": [
                  {"sourcekey": "S_id_namespace"},
                  "local_id",
                  "filename",
                  {"sourcekey": "S_project"},
                  "size_in_bytes",
                  {"sourcekey": "S_file_format"},
                  {"sourcekey": "S_data_type"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_creation_time"}
               ],
               "detailed": [
                  {"sourcekey": "S_id_namespace"},
                  "local_id",
                  "persistent_id",
                  "filename",
                  {"sourcekey": "S_project"},
                  "size_in_bytes",
                  "uncompressed_size_in_bytes",
                  {"sourcekey": "S_file_format"},
                  {"sourcekey": "S_data_type"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_creation_time"},
                  "sha256",
                  "md5"
               ],
               "filter": {"and": [
                  {"sourcekey": "S_data_type", "open": true},
                  {"sourcekey": "S_file_format"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_anatomy", "open": true},
                  {"sourcekey": "S_taxonomy"},
                  {"sourcekey": "S_root_project"},
                  {"sourcekey": "S_super_projects"},
                  {
                     "markdown_name": "Subject Granularity",
                     "comment": "The specificity of the subject description, e.g. organism versus cell-line, of subjects described directly or indirectly by the file.",
                     "source": [
                        {"inbound": ["CFDE", "file_subject_granularity_file_fkey"]},
                        {"outbound": ["CFDE", "file_subject_granularity_granularity_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "markdown_name": "Subject Role",
                     "comment": "The taxonomical role(s) characterizing subjects described directly or indirectly by the file.",
                     "source": [
                        {"inbound": ["CFDE", "file_subject_role_taxonomy_file_fkey"]},
                        {"outbound": ["CFDE", "file_subject_role_taxonomy_role_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "markdown_name": "File Creation Time",
                     "sourcekey": "S_creation_time"
                  },
                  {
                     "markdown_name": "Biosample Creation Time",
                     "comment": "The time when a biosample described by this file was created.",
                     "source": [
                        {"inbound": ["CFDE", "file_biosample_creation_time_file_fkey"]},
                        "biosample_creation_time"
                     ]
                  },
                  {"source": "size_in_bytes"},
                  {"source": "uncompressed_size_in_bytes"},
                  {"sourcekey": "S_part_of_collections"},
                  {"sourcekey": "S_described_biosamples"},
                  {"sourcekey": "S_described_subjects"}
               ]}
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "biosample",
         "title": "Biosample",
         "description": "A tissue sample or other physical specimen",
         "schema": {
            "fields": [
               {
                  "name": "id_namespace",
                  "title": "ID Namespace",
                  "description": "ID of the identifier namespace corresponding to the top-level C2M2 metadataset containing this biosample",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "local_id",
                  "description": "An ID representing this biosample, unique within this id_namespace",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_id_namespace",
                  "description": "ID of the identifier namespace for the primary project within which this biosample was created",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_local_id",
                  "description": "Foreign key identifying the primary project within which this biosample was created",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_root_id_namespace",
                  "description": "Computed id_namespace for the root project within which this biosample was created",
                  "type": "string",
                  "constraints": {
                     "required": false
                  },
                  "derivation_sql_path": "biosample_project_root.sql"
               },
               {
                  "name": "project_root_local_id",
                  "description": "Computed local_id for the root project within which this biosample was created",
                  "type": "string",
                  "constraints": {
                     "required": false
                  }
               },
               {
                  "name": "persistent_id",
                  "title": "Persistent ID",
                  "description": "A persistent, resolvable (not nec. retrievable) URI generated by a DCC and attached to this biosample",
                  "type": "string"
               },
               {
                  "name": "creation_time",
                  "description": "An ISO 8601 -- RFC 3339 (subset)-compliant timestamp documenting this biosample's creation time: YYYY-MM-DDTHH:MM:SSÂ±NN:NN",
                  "type": "datetime",
                  "format": "any"
               },
               {
                  "name": "anatomy",
                  "description": "An UBERON CV term ID used to locate the origin of this biosample within the physiology of its source or host organism",
                  "type": "string",
                  "constraints": {
                     "pattern": "^UBERON:[0-9]+$"
                  }
               },
               {
                  "name": "kw",
                  "description": "A pre-computed set of keywords/strings used by the CFDE search UI.",
                  "type": "array",
                  "derivation_sql_path": "biosample_kw.sql",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "id_namespace", "local_id" ],
            "foreignKeys": [
               {
                  "fields": "id_namespace",
                  "constraint_name": "biosample_id_namespace_fkey",
                  "reference": {
                     "resource": "id_namespace",
                     "fields": "id"
                  }
               },
               {
                  "fields": [ "project_id_namespace", "project_local_id" ],
                  "constraint_name": "biosample_project_fkey",
                  "reference": {
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "project_root_id_namespace", "project_root_local_id" ],
                  "constraint_name": "biosample_project_root_fkey",
                  "reference": {
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": "anatomy",
                  "constraint_name": "biosample_anatomy_fkey",
                  "reference": {
                     "resource": "anatomy",
                     "fields": "id"
                  }
               }
            ]
         },
         "deriva": {
            "export_2019": {
               "*": {
                  "templates": [
                     {
                        "displayname": "Biosample BDBAG",
                        "type": "BAG",
                        "outputs": [
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "id_namespace,local_id,project_id_namespace,project_local_id,persistent_id,creation_time,anatomy"
                              },
                              "destination": {
                                 "name": "biosample",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(project_id_namespace,project_local_id)=(CFDE:project_in_project_transitive:member_project_id_namespace,member_project_local_id)/(leader_project_id_namespace,leader_project_local_id)=(CFDE:project:id_namespace,local_id)/id_namespace,local_id,persistent_id,creation_time,abbreviation,name,description"
                              },
                              "destination": {
                                 "name": "project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(project_id_namespace,project_local_id)=(CFDE:project_in_project_transitive:member_project_id_namespace,member_project_local_id)/(leader_project_id_namespace,leader_project_local_id)=(CFDE:project_in_project:child_project_id_namespace,child_project_local_id)/parent_project_id_namespace,parent_project_local_id,child_project_id_namespace,child_project_local_id"
                              },
                              "destination": {
                                 "name": "project_in_project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(anatomy)=(CFDE:anatomy:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "anatomy",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:biosample_from_subject:biosample_id_namespace,biosample_local_id)/(subject_id_namespace,subject_local_id)=(CFDE:subject:id_namespace,local_id)/id_namespace,local_id,project_id_namespace,project_local_id,persistent_id,creation_time,granularity"
                              },
                              "destination": {
                                 "name": "subject",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:biosample_from_subject:biosample_id_namespace,biosample_local_id)/(subject_id_namespace,subject_local_id)=(CFDE:subject:id_namespace,local_id)/(granularity)=(CFDE:subject_granularity:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "subject_granularity",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:biosample_from_subject:biosample_id_namespace,biosample_local_id)/(subject_id_namespace,subject_local_id)=(CFDE:subject_role_taxonomy:subject_id_namespace,subject_local_id)/subject_id_namespace,subject_local_id,role_id,taxonomy_id"
                              },
                              "destination": {
                                 "name": "subject_role_taxonomy",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:biosample_from_subject:biosample_id_namespace,biosample_local_id)/(subject_id_namespace,subject_local_id)=(CFDE:subject_role_taxonomy:subject_id_namespace,subject_local_id)/(role_id)=(CFDE:subject_role:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "subject_role",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:biosample_from_subject:biosample_id_namespace,biosample_local_id)/(subject_id_namespace,subject_local_id)=(CFDE:subject_role_taxonomy:subject_id_namespace,subject_local_id)/(taxonomy_id)=(CFDE:ncbi_taxonomy:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "ncbi_taxonomy",
                                 "type": "csv"
                              }
                           }
                        ]
                     }
                  ]
               }
            },
            "table_display": {
               "row_name": {
                  "row_markdown_pattern": "{{_id_namespace}}{{_local_id}}"
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "search-box": {"or": [ {"source": "kw", "markdown_name": "biosample, file, subject metadata", "comment": "biosample identifers/anatomy, file format/assay/data type, subject granularity/role/taxonomy, project, collection keywords"} ]},
                  "S_id_namespace": {
                     "comment": "The namespace qualifier for the biosample ID.",
                     "source": [{"outbound": ["CFDE", "biosample_id_namespace_fkey"]}, "RID"]
                  },
                  "S_assay_type": {
                     "comment": "The assay type characterizing the biosample.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_assay_type_biosample_fkey"]},
                        {"outbound": ["CFDE", "biosample_assay_type_assay_type_fkey"]},
                        "RID"
                     ]
                  },
                  "S_anatomy": {
                     "comment": "The anatomy from which the biosample is derived.",
                     "source": [{"outbound": ["CFDE", "biosample_anatomy_fkey"]}, "RID"]
                  },
                  "S_taxonomy": {
                     "markdown_name": "Subject Taxonomy",
                     "comment": "The taxonomy concept(s) characterizing the subject of the biosampling.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_from_subject_biosample_fkey"]},
                        {"outbound": ["CFDE", "biosample_from_subject_subject_fkey"]},
                        {"inbound": ["CFDE", "subject_role_taxonomy_subject_fkey"]},
                        {"outbound": ["CFDE", "subject_role_taxonomy_taxonomy_fkey"]},
                        "RID"
                     ]
                  },
                  "S_project": {
                     "comment": "The project attributed as the source of the biosample.",
                     "source": [{"outbound": ["CFDE", "biosample_project_fkey"]}, "RID"]
                  },
                  "S_root_project": {
                     "markdown_name": "Common Fund Program",
                     "comment": "The Common Fund Program attributed as source of the biosample.",
                     "source": [
                        {"outbound": ["CFDE", "biosample_project_root_fkey"]},
                        "RID"
                     ]
                  },
                  "S_super_projects": {
                     "markdown_name": "Project",
                     "comment": "The project (or any super-projects) attributed as source of the biosample.",
                     "source": [
                        {"outbound": ["CFDE", "biosample_project_fkey"]},
                        {"inbound": ["CFDE", "project_in_project_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_transitive_leader_fkey"]},
                        "RID"
                     ]
                  },
                  "S_creation_time": {
                     "comment": "The time when the biosample was created.",
                     "source": "creation_time"
                  },
                  "S_subjects": {
                     "comment": "The subject(s) from which the biosample is derived.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_from_subject_biosample_fkey"]},
                        {"outbound": ["CFDE", "biosample_from_subject_subject_fkey"]},
                        "RID"
                     ]
                  },
                  "S_described_by_file": {
                     "comment": "Files whose content describes the biosample.",
                     "source": [
                        {"inbound": ["CFDE", "file_describes_biosample_biosample_fkey"]},
                        {"outbound": ["CFDE", "file_describes_biosample_file_fkey"]},
                        "RID"
                     ]
                  },
                  "S_part_of_collections": {
                     "markdown_name": "Part of Collection",
                     "comment": "Collections with the biosample recor as a directly or indirectly constituent member.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_in_collection_biosample_fkey"]},
                        {"outbound": ["CFDE", "biosample_in_collection_collection_fkey"]},
                        {"inbound": ["CFDE", "collection_in_collection_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "collection_in_collection_transitive_leader_fkey"]},
                        "RID"
                     ]
                  }
               }
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_subjects"},
                  {"sourcekey": "S_described_by_file"},
                  {"sourcekey": "S_part_of_collections"}
               ]
            },
            "visible_columns": {
               "compact": [
                  {"sourcekey": "S_id_namespace"},
                  "local_id",
                  {"sourcekey": "S_project"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_anatomy"},
                  {"sourcekey": "S_creation_time"}
               ],
               "detailed": [
                  {"sourcekey": "S_id_namespace"},
                  "local_id",
                  "persistent_id",
                  {"sourcekey": "S_project"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_anatomy"},
                  {"sourcekey": "S_creation_time"}
               ],
               "filter": {"and": [
                  {"sourcekey": "S_assay_type", "open": true},
                  {"sourcekey": "S_anatomy", "open": true},
                  {"sourcekey": "S_taxonomy"},
                  {"sourcekey": "S_root_project"},
                  {"sourcekey": "S_super_projects"},
                  {"sourcekey": "S_creation_time"},
                  {"sourcekey": "S_subjects"},
                  {"sourcekey": "S_described_by_file"},
                  {"sourcekey": "S_part_of_collections"}
               ]}
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "subject",
         "title": "Subject",
         "description": "A biological entity from which a biosample can be generated",
         "schema": {
            "fields": [
               {
                  "name": "id_namespace",
                  "title": "ID Namespace",
                  "description": "ID of the identifier namespace corresponding to the top-level C2M2 metadataset containing this subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "local_id",
                  "description": "An ID representing this subject, unique within this id_namespace",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_id_namespace",
                  "description": "ID of the identifier namespace for the primary project within which this subject was observed",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_local_id",
                  "description": "Foreign key identifying the primary project within which this subject was observed",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_root_id_namespace",
                  "description": "Computed id_namespace for the root project within which this subject was observed",
                  "type": "string",
                  "constraints": {
                     "required": false
                  },
                  "derivation_sql_path": "subject_project_root.sql"
               },
               {
                  "name": "project_root_local_id",
                  "description": "Computed local_id for the root project within which this subject was observed",
                  "type": "string",
                  "constraints": {
                     "required": false
                  }
               },
               {
                  "name": "persistent_id",
                  "title": "Persistent ID",
                  "description": "A persistent, resolvable (not nec. retrievable) URI generated by a DCC and attached to this subject",
                  "type": "string"
               },
               {
                  "name": "creation_time",
                  "description": "An ISO 8601 -- RFC 3339 (subset)-compliant timestamp documenting this subject record's creation time: YYYY-MM-DDTHH:MM:SSÂ±NN:NN",
                  "type": "datetime",
                  "format": "any"
               },
               {
                  "name": "granularity",
                  "description": "A CFDE CV term categorizing this subject by multiplicity",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "kw",
                  "description": "A pre-computed set of keywords/strings used by the CFDE search UI.",
                  "type": "array",
                  "derivation_sql_path": "subject_kw.sql",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "id_namespace", "local_id" ],
            "foreignKeys": [
               {
                  "fields": "id_namespace",
                  "constraint_name": "subject_id_namespace_fkey",
                  "reference": {
                     "resource": "id_namespace",
                     "fields": "id"
                  }
               },
               {
                  "fields": [ "project_id_namespace", "project_local_id" ],
                  "constraint_name": "subject_project_fkey",
                  "reference": {
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "project_root_id_namespace", "project_root_local_id" ],
                  "constraint_name": "subject_project_root_fkey",
                  "reference": {
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": "granularity",
                  "constraint_name": "subject_granularity_fkey",
                  "reference": {
                     "resource": "subject_granularity",
                     "fields": "id"
                  }
               }
            ]
         },
         "deriva": {
            "export_2019": {
               "*": {
                  "templates": [
                     {
                        "displayname": "Subject BDBAG",
                        "type": "BAG",
                        "outputs": [
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "id_namespace,local_id,project_id_namespace,project_local_id,persistent_id,creation_time,granularity"
                              },
                              "destination": {
                                 "name": "subject",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(project_id_namespace,project_local_id)=(CFDE:project_in_project_transitive:member_project_id_namespace,member_project_local_id)/(leader_project_id_namespace,leader_project_local_id)=(CFDE:project:id_namespace,local_id)/id_namespace,local_id,persistent_id,creation_time,abbreviation,name,description"
                              },
                              "destination": {
                                 "name": "project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(project_id_namespace,project_local_id)=(CFDE:project_in_project_transitive:member_project_id_namespace,member_project_local_id)/(leader_project_id_namespace,leader_project_local_id)=(CFDE:project_in_project:child_project_id_namespace,child_project_local_id)/parent_project_id_namespace,parent_project_local_id,child_project_id_namespace,child_project_local_id"
                              },
                              "destination": {
                                 "name": "project_in_project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(granularity)=(CFDE:subject_granularity:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "subject_granularity",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:subject_role_taxonomy:subject_id_namespace,subject_local_id)/subject_id_namespace,subject_local_id,role_id,taxonomy_id"
                              },
                              "destination": {
                                 "name": "subject_role_taxonomy",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:subject_role_taxonomy:subject_id_namespace,subject_local_id)/(role_id)=(CFDE:subject_role:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "subject_role",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:subject_role_taxonomy:subject_id_namespace,subject_local_id)/(taxonomy_id)=(CFDE:ncbi_taxonomy:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "ncbi_taxonomy",
                                 "type": "csv"
                              }
                           }
                        ]
                     }
                  ]
               }
             },
            "table_display": {
               "row_name": {
                  "row_markdown_pattern": "{{_id_namespace}}{{_local_id}}"
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "search-box": {"or": [ {"source": "kw", "markdown_name": "subject, biosample, file metadata", "comment": "subject identifiers/granularity/role/taxonomy, biosample anatomy, file format/assay/data type, project, collection keywords"} ]},
                  "S_id_namespace": {
                     "comment": "The namespace qualifier for the subject ID.",
                     "source": [{"outbound": ["CFDE", "subject_id_namespace_fkey"]}, "RID"]
                  },
                  "S_project": {
                     "comment": "The project attributed as the source of the subject.",
                     "source": [{"outbound": ["CFDE", "subject_project_fkey"]}, "RID"]
                  },
                  "S_root_project": {
                     "markdown_name": "Common Fund Program",
                     "comment": "The Common Fund Program attributed as source of the subject.",
                     "source": [
                        {"outbound": ["CFDE", "subject_project_root_fkey"]},
                        "RID"
                     ]
                  },
                  "S_granularity": {
                     "comment": "The specificity of the subject description, e.g. organism versus cell-line.",
                     "source": [
                        {"outbound": ["CFDE", "subject_granularity_fkey"]},
                        "RID"
                     ]
                  },
                  "S_role": {
                     "markdown_name": "Taxonomic Role",
                     "comment": "The taxonomic role concept(s) characterizing the subject.",
                     "source": [
                        {"inbound": ["CFDE", "subject_role_taxonomy_subject_fkey"]},
                        {"outbound": ["CFDE", "subject_role_taxonomy_role_fkey"]},
                        "name"
                     ],
                     "aggregate": "array"
                  },
                  "S_taxonomy": {
                     "markdown_name": "Taxonomy",
                     "comment": "The taxonomy concept(s) characterizing the subject.",
                     "source": [
                        {"inbound": ["CFDE", "subject_role_taxonomy_subject_fkey"]},
                        {"outbound": ["CFDE", "subject_role_taxonomy_taxonomy_fkey"]},
                        "name"
                     ],
                     "aggregate": "array"
                  },
                  "S_creation_time": {
                     "comment": "The time when the subject record created.",
                     "source": "creation_time"
                  },
                  "S_role_taxonomy": {
                     "markdown_name": "Role Taxonomy",
                     "comment": "Taxonomic characterizations of the subject.",
                     "source": [
                        {"inbound": ["CFDE", "subject_role_taxonomy_subject_fkey"]},
                        "RID"
                     ],
                     "entity": true
                  },
                  "S_biosamples": {
                     "comment": "Biosamples derived from the subject.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_from_subject_subject_fkey"]},
                        {"outbound": ["CFDE", "biosample_from_subject_biosample_fkey"]},
                        "RID"
                     ]
                  },
                  "S_files": {
                     "comment": "Files whose content describes the subject.",
                     "source": [
                        {"inbound": ["CFDE", "file_describes_subject_subject_fkey"]},
                        {"outbound": ["CFDE", "file_describes_subject_file_fkey"]},
                        "RID"
                     ]
                  },
                  "S_part_of_collections": {
                     "markdown_name": "Part of Collection",
                     "comment": "Collections with the subject record as a directly or indirectly constituent member.",
                     "source": [
                        {"inbound": ["CFDE", "subject_in_collection_subject_fkey"]},
                        {"outbound": ["CFDE", "subject_in_collection_collection_fkey"]},
                        {"inbound": ["CFDE", "collection_in_collection_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "collection_in_collection_transitive_leader_fkey"]},
                        "RID"
                     ]
                  }
               }
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_role_taxonomy"},
                  {"sourcekey": "S_biosamples"},
                  {"sourcekey": "S_files"},
                  {"sourcekey": "S_part_of_collections"}
               ]
            },
            "visible_columns": {
               "compact": [
                  {"sourcekey": "S_id_namespace"},
                  "local_id",
                  {"sourcekey": "S_project"},
                  {"sourcekey": "S_granularity"},
                  {"sourcekey": "S_taxonomy"},
                  {"sourcekey": "S_creation_time"}
               ],
               "detailed": [
                  {"sourcekey": "S_id_namespace"},
                  "local_id",
                  "persistent_id",
                  {"sourcekey": "S_project"},
                  {"sourcekey": "S_granularity"},
                  {"sourcekey": "S_taxonomy"},
                  {"sourcekey": "S_creation_time"}
               ],
               "filter": {"and": [
                  {"sourcekey": "S_taxonomy", "open": true},
                  {"sourcekey": "S_granularity", "open": true},
                  {"sourcekey": "S_role"},
                  {"sourcekey": "S_root_project"},
                  {
                     "markdown_name": "Project",
                     "comment": "The project (or any super-projects) attributed as source of the subject.",
                     "source": [
                        {"outbound": ["CFDE", "subject_project_fkey"]},
                        {"inbound": ["CFDE", "project_in_project_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_transitive_leader_fkey"]},
                        "RID"
                     ]
                  },
                  {"sourcekey": "S_creation_time"},
                  {"sourcekey": "S_biosamples"},
                  {"sourcekey": "S_files"},
                  {"sourcekey": "S_part_of_collections"}
               ]}
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "primary_dcc_contact",
         "title": "Primary DCC Contact",
         "description": "One primary contact person for the Common Fund data coordinating center (DCC) that produced the top-level C2M2 metadataset identified by the given project foreign key",
         "schema": {
            "fields": [
               {
                  "name": "contact_email",
                  "description": "Email address of this DCC contact",
                  "type": "string",
                  "format": "email",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "contact_name",
                  "description": "Name of this DCC contact",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_id_namespace",
                  "description": "ID of the identifier namespace for the project record representing the top-level C2M2 metadataset produced by this contact's DCC",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_local_id",
                  "description": "Foreign key identifying the project record representing the top-level C2M2 metadataset produced by this contact's DCC",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "dcc_abbreviation",
                  "description": "A very short display label for this contact's DCC",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "pattern": "^[a-zA-Z0-9_]+$"
                  }
               },
               {
                  "name": "dcc_name",
                  "description": "A short, human-readable, machine-read-friendly label for this contact's DCC",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "dcc_description",
                  "description": "A human-readable description of this contact's DCC",
                  "type": "string"
               },
               {
                  "name": "dcc_url",
                  "description": "URL of the front page of the website for this contact's DCC",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "contact_email" ],
            "foreignKeys": [
               {
                  "fields": [ "project_id_namespace", "project_local_id" ],
                  "constraint_name": "primary_dcc_contact_project_fkey",
                  "reference": {
                     "title": "DCC Project",
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "project",
         "title": "Project",
         "description": "A node in the project hierarchy subdividing this id_namespace",
         "schema": {
            "fields": [
               {
                  "name": "id_namespace",
                  "title": "ID Namespace",
                  "description": "ID of the identifier namespace corresponding to the top-level C2M2 metadataset containing this project",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "local_id",
                  "description": "An ID representing this project, unique within this id_namespace",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "persistent_id",
                  "title": "Persistent ID",
                  "description": "A persistent, resolvable (not nec. retrievable) URI generated by a DCC and attached to this project",
                  "type": "string"
               },
               {
                  "name": "creation_time",
                  "description": "An ISO 8601 -- RFC 3339 (subset)-compliant timestamp documenting this project's creation time: YYYY-MM-DDTHH:MM:SSÂ±NN:NN",
                  "type": "datetime",
                  "format": "any"
               },
               {
                  "name": "abbreviation",
                  "description": "A very short display label for this project",
                  "type": "string",
                  "constraints": {
                     "pattern": "^[a-zA-Z0-9_]+$"
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this project",
                  "type": "string",
                  "constraints": {
                     "unique": false
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this project",
                  "type": "string",
                  "deriva": {
                    "indexing_preferences": {"btree": false}
                 }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "id_namespace", "local_id" ],
            "foreignKeys": [
               {
                  "fields": "id_namespace",
                  "constraint_name": "project_id_namespace_fkey",
                  "reference": {
                     "resource": "id_namespace",
                     "fields": "id"
                  }
               }
            ]
         },
         "deriva": {
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_id_namespace": {
                     "comment": "The namespace qualifier for the project ID.",
                     "source": [{"outbound": ["CFDE", "project_id_namespace_fkey"]}, "RID"]
                  },
                  "S_creation_time": {
                     "comment": "The time when the project was created.",
                     "source": "creation_time"
                  },
                  "S_parent_project": {
                     "markdown_name": "Parent Project",
                     "comment": "Direct ancestor of the project.",
                     "source": [
                        {"inbound": ["CFDE", "project_in_project_child_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_parent_fkey"]},
                        "RID"
                     ]
                  }
               }
            },
            "visible_foreign_keys": {
               "*": [
                  {
                     "markdown_name": "Parent Project",
                     "source": [
                        {"inbound": ["CFDE", "project_in_project_child_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_parent_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "markdown_name": "Child Project",
                     "source": [
                        {"inbound": ["CFDE", "project_in_project_parent_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_child_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "markdown_name": "Attributed Collection",
                     "source": [
                        {"inbound": ["CFDE", "collection_defined_by_project_project_fkey"]},
                        {"outbound": ["CFDE", "collection_defined_by_project_collection_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "markdown_name": "Attributed Subject",
                     "source": [{"inbound": ["CFDE", "subject_project_fkey"]}, "RID"]
                  },
                  {
                     "markdown_name": "Attributed Biosample",
                     "source": [{"inbound": ["CFDE", "biosample_project_fkey"]}, "RID"]
                  },
                  {
                     "markdown_name": "Attributed File",
                     "source": [{"inbound": ["CFDE", "file_project_fkey"]}, "RID"]
                  }
               ]
            },
            "visible_columns": {
               "compact": [
                  {"sourcekey": "S_id_namespace"},
                  "local_id",
                  "name",
                  "description",
                  {"sourcekey": "S_creation_time"}
               ],
               "detailed":  [
                  {"sourcekey": "S_id_namespace"},
                  "local_id",
                  "persistent_id",
                  "name",
                  "abbreviation",
                  "description",
                  {"sourcekey": "S_creation_time"}
               ],
               "filter": {"and": [
                  {"sourcekey": "S_creation_time"},
                  {
                     "markdown_name": "Super-Project",
                     "comment": "Direct or indirect ancestor of the project.",
                     "source": [
                        {"inbound": ["CFDE", "project_in_project_child_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_parent_fkey"]},
                        {"inbound": ["CFDE", "project_in_project_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_transitive_leader_fkey"]},
                        "RID"
                     ]
                  },
                  {"sourcekey": "S_parent_project"},
                  {
                     "markdown_name": "Sub-Project",
                     "comment": "Direct or indirect sub-projects of the project.",
                     "source": [
                        {"inbound": ["CFDE", "project_in_project_parent_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_child_fkey"]},
                        {"inbound": ["CFDE", "project_in_project_transitive_leader_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_transitive_member_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "comment": "The granularity of a subject attributed to the project.",
                     "source": [
                        {"inbound": ["CFDE", "subject_project_fkey"]},
                        {"outbound": ["CFDE", "subject_granularity_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "comment": "The taxonomic role of a subject attributed to the project.",
                     "source": [
                        {"inbound": ["CFDE", "subject_project_fkey"]},
                        {"inbound": ["CFDE", "subject_role_taxonomy_subject_fkey"]},
                        {"outbound": ["CFDE", "subject_role_taxonomy_role_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "markdown_name": "Subject Taxonomy",
                     "comment": "The taxonomy of a subject attributed to the project.",
                     "source": [
                        {"inbound": ["CFDE", "subject_project_fkey"]},
                        {"inbound": ["CFDE", "subject_role_taxonomy_subject_fkey"]},
                        {"outbound": ["CFDE", "subject_role_taxonomy_taxonomy_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "comment": "The anatomy of a biosample attributed to the project.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_project_fkey"]},
                        {"outbound": ["CFDE", "biosample_anatomy_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "comment": "The assay type of a file attributed to the project.",
                     "source": [
                        {"inbound": ["CFDE", "file_project_fkey"]},
                        {"outbound": ["CFDE", "file_assay_type_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "comment": "The content format of a file attributed to the project.",
                     "source": [
                        {"inbound": ["CFDE", "file_project_fkey"]},
                        {"outbound": ["CFDE", "file_file_format_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "comment": "The type of data represented by a file attributed to the project.",
                     "source": [
                        {"inbound": ["CFDE", "file_project_fkey"]},
                        {"outbound": ["CFDE", "file_data_type_fkey"]},
                        "RID"
                     ]
                  }
               ]}
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "project_in_project",
         "title": "project_in_project",
         "description": "Association between a child project and its parent",
         "schema": {
            "fields": [
               {
                  "name": "parent_project_id_namespace",
                  "description": "ID of the identifier namespace for the parent in this parent-child project pair",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "parent_project_local_id",
                  "description": "The ID of the containing (parent) project",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "child_project_id_namespace",
                  "description": "ID of the identifier namespace for the child in this parent-child project pair",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "child_project_local_id",
                  "description": "The ID of the contained (child) project",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "parent_project_id_namespace",
               "parent_project_local_id",
               "child_project_id_namespace",
               "child_project_local_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "parent_project_id_namespace", "parent_project_local_id" ],
                  "constraint_name": "project_in_project_parent_fkey",
                  "reference": {
                     "title": "Parent Project",
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "child_project_id_namespace", "child_project_local_id" ],
                  "constraint_name": "project_in_project_child_fkey",
                  "reference": {
                     "title": "Child Project",
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "collection",
         "title": "Collection",
         "description": "A grouping of files, biosamples and/or subjects",
         "schema": {
            "fields": [
               {
                  "name": "id_namespace",
                  "title": "ID Namespace",
                  "description": "ID of the identifier namespace corresponding to the top-level C2M2 metadataset containing this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "local_id",
                  "description": "An ID representing this collection, unique within this id_namespace",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "persistent_id",
                  "title": "Persistent ID",
                  "description": "A persistent, resolvable (not nec. retrievable) URI generated by a DCC and attached to this collection",
                  "type": "string"
               },
               {
                  "name": "creation_time",
                  "description": "An ISO 8601 -- RFC 3339 (subset)-compliant timestamp documenting this collection's creation time: YYYY-MM-DDTHH:MM:SSÂ±NN:NN",
                  "type": "datetime",
                  "format": "any"
               },
               {
                  "name": "abbreviation",
                  "description": "A very short display label for this collection",
                  "type": "string",
                  "constraints": {
                     "pattern": "^[a-zA-Z0-9_]+$"
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this collection",
                  "type": "string",
                  "constraints": {
                     "unique": true
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this collection",
                  "type": "string",
                  "deriva": {
                    "indexing_preferences": {"btree": false}
                 }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "id_namespace", "local_id" ],
            "foreignKeys": [
               {
                  "fields": "id_namespace",
                  "constraint_name": "collection_id_namespace_fkey",
                  "reference": {
                     "resource": "id_namespace",
                     "fields": "id"
                  }
               }
            ]
         },
         "deriva": {
            "export_2019": {
               "*": {
                  "templates": [
                     {
                        "displayname": "Collection BDBAG",
                        "type": "BAG",
                        "outputs": [
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "id_namespace,local_id,persistent_id,creation_time,abbreviation,name,description"
                              },
                              "destination": {
                                 "name": "collection",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:collection_defined_by_project:collection_id_namespace,collection_local_id)/(project_id_namespace,project_local_id)=(CFDE:project_in_project_transitive:member_project_id_namespace,member_project_local_id)/(leader_project_id_namespace,leader_project_local_id)=(CFDE:project:id_namespace,local_id)/id_namespace,local_id,persistent_id,creation_time,abbreviation,name,description"
                              },
                              "destination": {
                                 "name": "project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:collection_defined_by_project:collection_id_namespace,collection_local_id)/(project_id_namespace,project_local_id)=(CFDE:project_in_project_transitive:member_project_id_namespace,member_project_local_id)/(leader_project_id_namespace,leader_project_local_id)=(CFDE:project_in_project:child_project_id_namespace,child_project_local_id)/parent_project_id_namespace,parent_project_local_id,child_project_id_namespace,child_project_local_id"
                              },
                              "destination": {
                                 "name": "project_in_project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:file_in_collection:collection_id_namespace,collection_local_id)/(file_id_namespace,file_local_id)=(CFDE:file:id_namespace,local_id)/id_namespace,local_id,project_id_namespace,project_local_id,persistent_id,creation_time,size_in_bytes,uncompressed_size_in_bytes,sha256,md5,filename,file_format,data_type,assay_type,mime_type"
                              },
                              "destination": {
                                 "name": "file",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:file_in_collection:collection_id_namespace,collection_local_id)/(file_id_namespace,file_local_id)=(CFDE:file:id_namespace,local_id)/(file_format)=(CFDE:file_format:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "file_format",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:file_in_collection:collection_id_namespace,collection_local_id)/(file_id_namespace,file_local_id)=(CFDE:file:id_namespace,local_id)/(data_type)=(CFDE:data_type:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "data_type",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:file_in_collection:collection_id_namespace,collection_local_id)/(file_id_namespace,file_local_id)=(CFDE:file:id_namespace,local_id)/(assay_type)=(CFDE:assay_type:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "assay_type",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:biosample_in_collection:collection_id_namespace,collection_local_id)/(biosample_id_namespace,biosample_local_id)=(CFDE:biosample:id_namespace,local_id)/id_namespace,local_id,project_id_namespace,project_local_id,persistent_id,creation_time,anatomy"
                              },
                              "destination": {
                                 "name": "biosample",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:biosample_in_collection:collection_id_namespace,collection_local_id)/(biosample_id_namespace,biosample_local_id)=(CFDE:biosample:id_namespace,local_id)/(anatomy)=(CFDE:anatomy:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "anatomy",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:subject_in_collection:collection_id_namespace,collection_local_id)/(subject_id_namespace,subject_local_id)=(CFDE:subject:id_namespace,local_id)/id_namespace,local_id,project_id_namespace,project_local_id,persistent_id,creation_time,granularity"
                              },
                              "destination": {
                                 "name": "subject",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:subject_in_collection:collection_id_namespace,collection_local_id)/(subject_id_namespace,subject_local_id)=(CFDE:subject:id_namespace,local_id)/(granularity)=(CFDE:subject_granularity:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "subject_granularity",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:subject_in_collection:collection_id_namespace,collection_local_id)/(subject_id_namespace,subject_local_id)=(CFDE:subject_role_taxonomy:subject_id_namespace,subject_local_id)/subject_id_namespace,subject_local_id,role_id,taxonomy_id"
                              },
                              "destination": {
                                 "name": "subject_role_taxonomy",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:subject_in_collection:collection_id_namespace,collection_local_id)/(subject_id_namespace,subject_local_id)=(CFDE:subject_role_taxonomy:subject_id_namespace,subject_local_id)/(role_id)=(CFDE:subject_role:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "subject_role",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "attribute",
                                 "path": "(id_namespace,local_id)=(CFDE:subject_in_collection:collection_id_namespace,collection_local_id)/(subject_id_namespace,subject_local_id)=(CFDE:subject_role_taxonomy:subject_id_namespace,subject_local_id)/(taxonomy_id)=(CFDE:ncbi_taxonomy:id)/id,name,description"
                              },
                              "destination": {
                                 "name": "ncbi_taxonomy",
                                 "type": "csv"
                              }
                           }
                        ]
                     }
                  ]
               }
            },
            "table_display": {
               "row_name": {
                  "row_markdown_pattern": "{{_id_namespace}}{{_local_id}}"
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_id_namespace": {
                     "comment": "The namespace qualifying the collection ID.",
                     "source": [
                        {"outbound": ["CFDE", "collection_id_namespace_fkey"]},
                        "RID"
                     ]
                  },
                  "S_project": {
                     "comment": "The project which defined the collection.",
                     "source": [
                        {"inbound": ["CFDE", "collection_defined_by_project_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_defined_by_project_project_fkey"]},
                        "RID"
                     ]
                  },
                  "S_root_project": {
                     "markdown_name": "Common Fund Program",
                     "comment": "The Common Fund Program which defined the collection.",
                     "source": [
                        {"inbound": ["CFDE", "collection_project_root_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_project_root_project_fkey"]},
                        "RID"
                     ]
                  },
                  "S_super_projects": {
                     "markdown_name": "Project",
                     "comment": "A project (or super-project) which defined the collection.",
                     "source": [
                        {"inbound": ["CFDE", "collection_defined_by_project_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_defined_by_project_project_fkey"]},
                        {"inbound": ["CFDE", "project_in_project_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_transitive_leader_fkey"]},
                        "RID"
                     ]
                  },
                  "S_file_format": {
                     "comment": "The content format of a constituent file.",
                     "source": [
                        {"inbound": ["CFDE", "file_in_collection_collection_fkey"]},
                        {"outbound": ["CFDE", "file_in_collection_file_fkey"]},
                        {"outbound": ["CFDE", "file_file_format_fkey"]},
                        "RID"
                     ]
                  },
                  "S_data_type": {
                     "comment": "The type of data represented by a constituent file.",
                     "source": [
                        {"inbound": ["CFDE", "file_in_collection_collection_fkey"]},
                        {"outbound": ["CFDE", "file_in_collection_file_fkey"]},
                        {"outbound": ["CFDE", "file_data_type_fkey"]},
                        "RID"
                     ]
                  },
                  "S_assay_type": {
                     "markdown_name": "Assay Type",
                     "comment": "The assay type of a directly or indirectly constituent biosample.",
                     "source": [
                        {"inbound": ["CFDE", "collection_assay_type_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_assay_type_fkey"]},
                        "RID"
                     ]
                  },
                  "S_anatomy": {
                     "markdown_name": "Anatomy",
                     "comment": "The anatomical source of a directly or indirectly constituent biosample.",
                     "source": [
                        {"inbound": ["CFDE", "collection_anatomy_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_anatomy_fkey"]},
                        "RID"
                     ]
                  },
                  "S_creation_time": {
                     "comment": "The time when the collection was created.",
                     "source": "creation_time"
                  }
               }
            },
            "visible_foreign_keys": {
               "*": [
                  {
                     "markdown_name": "Part of Collection",
                     "source": [
                        {"inbound": ["CFDE", "collection_in_collection_child_fkey"]},
                        {"outbound": ["CFDE", "collection_in_collection_parent_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "source": [
                        {"inbound": ["CFDE", "subject_in_collection_collection_fkey"]},
                        {"outbound": ["CFDE", "subject_in_collection_subject_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "source": [
                        {"inbound": ["CFDE", "biosample_in_collection_collection_fkey"]},
                        {"outbound": ["CFDE", "biosample_in_collection_biosample_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "source": [
                        {"inbound": ["CFDE", "file_in_collection_collection_fkey"]},
                        {"outbound": ["CFDE", "file_in_collection_file_fkey"]},
                        "RID"
                     ]
                  }
               ]
            },
            "visible_columns": {
               "compact": [
                  {"sourcekey": "S_id_namespace"},
                  "local_id",
                  {"sourcekey": "S_project"},
                  "name",
                  "description",
                  {"sourcekey": "S_creation_time"}
               ],
               "detailed": [
                  {"sourcekey": "S_id_namespace"},
                  "local_id",
                  "persistent_id",
                  {"sourcekey": "S_project"},
                  "name",
                  "description",
                  {"sourcekey": "S_creation_time"}
               ],
               "filter": {"and": [
                  {"sourcekey": "S_data_type", "open": true},
                  {"sourcekey": "S_file_format"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_anatomy", "open": true},
                  {
                     "markdown_name": "Subject Taxonomy",
                     "comment": "The taxonomy of a directly or indirectly constituent subject.",
                     "source": [
                        {"inbound": ["CFDE", "collection_subject_role_taxonomy_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_subject_role_taxonomy_taxonomy_fkey"]},
                        "RID"
                     ]
                  },
                  {"sourcekey": "S_root_project"},
                  {"sourcekey": "S_super_projects"},
                  {
                     "markdown_name": "Subject Granularity",
                     "comment": "The specificity of description for a directly or indirectly consituent subject.",
                     "source": [
                        {"inbound": ["CFDE", "collection_subject_granularity_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_subject_granularity_granularity_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "markdown_name": "Subject Role",
                     "comment": "The taxonomic role for a directly or indirectly constituent subject.",
                     "source": [
                        {"inbound": ["CFDE", "collection_subject_role_taxonomy_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_subject_role_taxonomy_role_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "markdown_name": "Collection Creation Time",
                     "sourcekey": "S_creation_time"
                  },
                  {
                     "markdown_name": "File Creation Time",
                     "comment": "The time when a constituent file was created.",
                     "source": [
                        {"inbound": ["CFDE", "file_in_collection_collection_fkey"]},
                        {"outbound": ["CFDE", "file_in_collection_file_fkey"]},
                        "creation_time"
                     ]
                  },
                  {
                     "markdown_name": "Biosample Creation Time",
                     "comment": "The time when a constituent biosample was created.",
                     "source": [
                        {"inbound": ["CFDE", "file_in_collection_collection_fkey"]},
                        {"outbound": ["CFDE", "file_in_collection_file_fkey"]},
                        {"inbound": ["CFDE", "file_biosample_creation_time_file_fkey"]},
                        "biosample_creation_time"
                     ]
                  },
                  {
                     "markdown_name": "Part of Collection",
                     "comment": "Collections directly or indirectly containing the collection.",
                     "source": [
                        {"inbound": ["CFDE", "collection_in_collection_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "collection_in_collection_transitive_leader_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "comment": "Constituent subjects of the collection.",
                     "source": [
                        {"inbound": ["CFDE", "subject_in_collection_collection_fkey"]},
                        {"outbound": ["CFDE", "subject_in_collection_subject_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "comment": "Constituent biosamples of the collection.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_in_collection_collection_fkey"]},
                        {"outbound": ["CFDE", "biosample_in_collection_biosample_fkey"]},
                        "RID"
                     ]
                  },
                  {
                     "comment": "Constituent files of the collection.",
                     "source": [
                        {"inbound": ["CFDE", "file_in_collection_collection_fkey"]},
                        {"outbound": ["CFDE", "file_in_collection_file_fkey"]},
                        "RID"
                     ]
                  }
               ]}
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "collection_in_collection",
         "title": "collection_in_collection",
         "description": "Association between a containing collection (superset) and a contained collection (subset)",
         "schema": {
            "fields": [
               {
                  "name": "superset_collection_id_namespace",
                  "description": "ID of the identifier namespace corresponding to the top-level C2M2 metadataset containing the superset collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "superset_collection_local_id",
                  "description": "The ID of the superset collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subset_collection_id_namespace",
                  "description": "ID of the identifier namespace corresponding to the top-level C2M2 metadataset containing the subset collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subset_collection_local_id",
                  "description": "The ID of the subset collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "superset_collection_id_namespace",
               "superset_collection_local_id",
               "subset_collection_id_namespace",
               "subset_collection_local_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "superset_collection_id_namespace", "superset_collection_local_id" ],
                  "constraint_name": "collection_in_collection_superset_fkey",
                  "reference": {
                     "title": "Superset Collection",
                     "resource": "collection",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "subset_collection_id_namespace", "subset_collection_local_id" ],
                  "constraint_name": "collection_in_collection_subset_fkey",
                  "reference": {
                     "title": "Subset Collection",
                     "resource": "collection",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "collection_defined_by_project",
         "title": "collection_defined_by_project",
         "description": "(Shallow) association between a collection and a project that defined it",
         "schema": {
            "fields": [
               {
                  "name": "collection_id_namespace",
                  "description": "ID of the identifier namespace corresponding to the top-level C2M2 metadataset containing this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection_local_id",
                  "description": "The ID of this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_id_namespace",
                  "description": "ID of the identifier namespace corresponding to the top-level C2M2 metadataset containing this project",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_local_id",
                  "description": "The ID of this project",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "collection_id_namespace",
               "collection_local_id",
               "project_id_namespace",
               "project_local_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "collection_id_namespace", "collection_local_id" ],
                  "constraint_name": "collection_defined_by_project_collection_fkey",
                  "reference": {
                     "title": "Defined Collection",
                     "resource": "collection",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "project_id_namespace", "project_local_id" ],
                  "constraint_name": "collection_defined_by_project_project_fkey",
                  "reference": {
                     "title": "Defined by Project",
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "file_in_collection",
         "title": "file_in_collection",
         "description": "Association between a file and a (containing) collection",
         "schema": {
            "fields": [
               {
                  "name": "file_id_namespace",
                  "description": "Identifier namespace for this file",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "file_local_id",
                  "description": "The ID of this file",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection_id_namespace",
                  "description": "Identifier namespace for this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection_local_id",
                  "description": "The ID of this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "file_id_namespace",
               "file_local_id",
               "collection_id_namespace",
               "collection_local_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "file_id_namespace", "file_local_id" ],
                  "constraint_name": "file_in_collection_file_fkey",
                  "reference": {
                     "title": "Contained File",
                     "resource": "file",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "collection_id_namespace", "collection_local_id" ],
                  "constraint_name": "file_in_collection_collection_fkey",
                  "reference": {
                     "title": "Part of Collection",
                     "resource": "collection",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "biosample_in_collection",
         "title": "biosample_in_collection",
         "description": "Association between a biosample and a (containing) collection",
         "schema": {
            "fields": [
               {
                  "name": "biosample_id_namespace",
                  "description": "Identifier namespace for this biosample",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "biosample_local_id",
                  "description": "The ID of this biosample",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection_id_namespace",
                  "description": "Identifier namespace for this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection_local_id",
                  "description": "The ID of this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "biosample_id_namespace",
               "biosample_local_id",
               "collection_id_namespace",
               "collection_local_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "biosample_id_namespace", "biosample_local_id" ],
                  "constraint_name": "biosample_in_collection_biosample_fkey",
                  "reference": {
                     "title": "Contained Biosample",
                     "resource": "biosample",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "collection_id_namespace", "collection_local_id" ],
                  "constraint_name": "biosample_in_collection_collection_fkey",
                  "reference": {
                     "title": "Part of Collection",
                     "resource": "collection",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "subject_in_collection",
         "title": "subject_in_collection",
         "description": "Association between a subject and a (containing) collection",
         "schema": {
            "fields": [
               {
                  "name": "subject_id_namespace",
                  "description": "Identifier namespace for this subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_local_id",
                  "description": "The ID of this subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection_id_namespace",
                  "description": "Identifier namespace for this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection_local_id",
                  "description": "The ID of this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "subject_id_namespace",
               "subject_local_id",
               "collection_id_namespace",
               "collection_local_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "subject_id_namespace", "subject_local_id" ],
                  "constraint_name": "subject_in_collection_subject_fkey",
                  "reference": {
                     "title": "Contained Subject",
                     "resource": "subject",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "collection_id_namespace", "collection_local_id" ],
                  "constraint_name": "subject_in_collection_collection_fkey",
                  "reference": {
                     "title": "Part of Collection",
                     "resource": "collection",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "file_describes_biosample",
         "title": "file_describes_biosample",
         "description": "Association between a biosample and a file containing information about that biosample",
         "schema": {
            "fields": [
               {
                  "name": "file_id_namespace",
                  "description": "Identifier namespace for this file",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "file_local_id",
                  "description": "The ID of this file",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "biosample_id_namespace",
                  "description": "Identifier namespace for this biosample",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "biosample_local_id",
                  "description": "The ID of this biosample",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "file_id_namespace",
               "file_local_id",
               "biosample_id_namespace",
               "biosample_local_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "file_id_namespace", "file_local_id" ],
                  "constraint_name": "file_describes_biosample_file_fkey",
                  "reference": {
                     "title": "Described by File",
                     "resource": "file",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "biosample_id_namespace", "biosample_local_id" ],
                  "constraint_name": "file_describes_biosample_biosample_fkey",
                  "reference": {
                     "title": "Described Biosample",
                     "resource": "biosample",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "file_describes_subject",
         "title": "file_describes_subject",
         "description": "Association between a subject and a file containing information about that subject",
         "schema": {
            "fields": [
               {
                  "name": "file_id_namespace",
                  "description": "Identifier namespace for this file",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "file_local_id",
                  "description": "The ID of this file",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_id_namespace",
                  "description": "Identifier namespace for this subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_local_id",
                  "description": "The ID of this subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "file_id_namespace",
               "file_local_id",
               "subject_id_namespace",
               "subject_local_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "file_id_namespace", "file_local_id" ],
                  "constraint_name": "file_describes_subject_file_fkey",
                  "reference": {
                     "title": "Described by File",
                     "resource": "file",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "subject_id_namespace", "subject_local_id" ],
                  "constraint_name": "file_describes_subject_subject_fkey",
                  "reference": {
                     "title": "Described Subject",
                     "resource": "subject",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "biosample_from_subject",
         "title": "biosample_from_subject",
         "description": "Association between a biosample and its source subject",
         "schema": {
            "fields": [
               {
                  "name": "biosample_id_namespace",
                  "description": "Identifier namespace for this biosample",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "biosample_local_id",
                  "description": "The ID of this biosample",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_id_namespace",
                  "description": "Identifier namespace for this subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_local_id",
                  "description": "The ID of this subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "biosample_id_namespace",
               "biosample_local_id",
               "subject_id_namespace",
               "subject_local_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "biosample_id_namespace", "biosample_local_id" ],
                  "constraint_name": "biosample_from_subject_biosample_fkey",
                  "reference": {
                     "title": "Derived Biosample",
                     "resource": "biosample",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "subject_id_namespace", "subject_local_id" ],
                  "constraint_name": "biosample_from_subject_subject_fkey",
                  "reference": {
                     "title": "Source Subject",
                     "resource": "subject",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "subject_role_taxonomy",
         "title": "Subject Role Taxonomy",
         "description": "Trinary association linking IDs representing (1) a subject, (2) a subject_role (a named organism-level constituent component of a subject, like 'host', 'pathogen', 'endosymbiont', 'taxon detected inside a microbiome subject', etc.) and (3) a taxonomic label (which is hereby assigned to this particular subject_role within this particular subject)",
         "schema": {
            "fields": [
               {
                  "name": "subject_id_namespace",
                  "description": "Identifier namespace for this subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_local_id",
                  "description": "The ID of this subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "role_id",
                  "description": "The ID of the role assigned to this organism-level constituent component of this subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "taxonomy_id",
                  "description": "An NCBI Taxonomy Database ID identifying this taxon",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "subject_id_namespace",
               "subject_local_id",
               "role_id",
               "taxonomy_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "subject_id_namespace", "subject_local_id" ],
                  "constraint_name": "subject_role_taxonomy_subject_fkey",
                  "reference": {
                     "title": "Subject",
                     "resource": "subject",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": "role_id",
                  "constraint_name": "subject_role_taxonomy_role_fkey",
                  "reference": {
                     "resource": "subject_role",
                     "fields": "id"
                  }
               },
               {
                  "fields": "taxonomy_id",
                  "constraint_name": "subject_role_taxonomy_taxonomy_fkey",
                  "reference": {
                     "resource": "ncbi_taxonomy",
                     "fields": "id"
                  }
               }
            ]
         },
         "deriva": {
            "visible_columns": {
               "compact": [
                  {"source": [{"outbound": ["CFDE", "subject_role_taxonomy_subject_fkey"]}, "RID"]},
                  {"source": [{"outbound": ["CFDE", "subject_role_taxonomy_role_fkey"]}, "RID"]},
                  {"source": [{"outbound": ["CFDE", "subject_role_taxonomy_taxonomy_fkey"]}, "RID"]}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "assay_type",
         "title": "Assay Type",
         "description": "List of Ontology for Biomedical Investigations (OBI) CV terms used in this dataset to describe types of experiment that generate results stored in files",
         "schema": {
            "fields": [
               {
                  "name": "id",
                  "description": "An OBI CV term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true,
                     "pattern": "^OBI:[0-9]+$"
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this OBI term",
                  "type": "string"
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this OBI term",
                  "type": "string"
               },
               {
                  "name": "synonyms",
                  "description": "Pipe-separated list of synonyms (alternate OBI terms) equivalent to this OBI term",
                  "type": "string",
                  "constraints": {
                     "pattern": "^(OBI:[0-9]+|)*OBI:[0-9]+$"
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "id"
         },
         "deriva": {
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "List of biosamples referencing this assay type.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_assay_type_assay_type_fkey"]},
                        {"outbound": ["CFDE", "biosample_assay_type_biosample_fkey"]},
                        "RID"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "List of collections referencing this assay type.",
                     "source": [
                        {"inbound": ["CFDE", "collection_assay_type_fkey"]},
                        {"outbound": ["CFDE", "collection_assay_type_collection_fkey"]},
                        "RID"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "List of files referencing this assay type.",
                     "source": [
                        {"inbound": ["CFDE", "file_assay_type_fkey"]},
                        "RID"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description"
               ]
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_collection"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "ncbi_taxonomy",
         "title": "NCBI Taxonomy",
         "description": "List of NCBI Taxonomy Database IDs identifying taxa used to describe subjects in this dataset",
         "schema": {
            "fields": [
               {
                  "name": "id",
                  "description": "An NCBI Taxonomy Database ID identifying a particular taxon",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true,
                     "pattern": "^NCBI:txid[0-9]+$"
                  }
               },
               {
                  "name": "clade",
                  "description": "The phylogenetic level (e.g. species, genus) assigned to this taxon (use 'no rank' if not defined)",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this taxon",
                  "type": "string",
                  "constraint": {
                     "unique": true
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this taxon",
                  "type": "string"
               },
               {
                  "name": "synonyms",
                  "description": "Pipe-separated list of synonyms (alternate NCBI Taxonomy IDs) equivalent to this taxon",
                  "type": "string",
                  "constraints": {
                     "pattern": "^([0-9]+|)*[0-9]+$"
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "id"
         },
         "deriva": {
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "List of subjects referencing this taxon.",
                     "source": [
                        {"inbound": ["CFDE", "subject_role_taxonomy_taxonomy_fkey"]},
                        {"outbound": ["CFDE", "subject_role_taxonomy_subject_fkey"]},
                        "RID"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "List of collections referencing this taxon.",
                     "source": [
                        {"inbound": ["CFDE", "collection_subject_role_taxonomy_taxonomy_fkey"]},
                        "RID"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "List of files referencing this taxon.",
                     "source": [
                        {"inbound": ["CFDE", "file_subject_role_taxonomy_taxonomy_fkey"]},
                        "RID"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description"
               ]
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_subject"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_collection"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "anatomy",
         "title": "Anatomy",
         "description": "List of Uber-anatomy ontology (Uberon) CV terms used in this dataset to locate the origin of a biosample within the physiology of its source or host organism",
         "schema": {
            "fields": [
               {
                  "name": "id",
                  "description": "An Uberon CV term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true,
                     "pattern": "^UBERON:[0-9]+$"
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this Uberon term",
                  "type": "string",
                  "constraint": {
                     "unique": true
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this Uberon term",
                  "type": "string"
               },
               {
                  "name": "synonyms",
                  "description": "Pipe-separated list of synonyms (alternate Uberon terms) equivalent to this Uberon term",
                  "type": "string",
                  "constraints": {
                     "pattern": "^(UBERON:[0-9]+|)*UBERON:[0-9]+$"
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "id"
         },
         "deriva": {
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "List of biosamples referencing this anatomical term.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_anatomy_fkey"]},
                        "RID"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "List of collections referencing this anatomical term.",
                     "source": [
                        {"inbound": ["CFDE", "collection_anatomy_fkey"]},
                        {"outbound": ["CFDE", "collection_anatomy_collection_fkey"]},
                        "RID"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "List of files referencing this anatomical term.",
                     "source": [
                        {"inbound": ["CFDE", "file_anatomy_fkey"]},
                        {"outbound": ["CFDE", "file_anatomy_file_fkey"]},
                        "RID"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description"
               ]
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_collection"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "file_format",
         "title": "File Format",
         "description": "List of EDAM CV 'format:' terms used to describe formats of files in this dataset",
         "schema": {
            "fields": [
               {
                  "name": "id",
                  "description": "An EDAM CV format term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true,
                     "pattern": "^format:[0-9]+$"
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this EDAM format term",
                  "type": "string",
                  "constraint": {
                     "unique": true
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this EDAM format term",
                  "type": "string"
               },
               {
                  "name": "synonyms",
                  "description": "Pipe-separated list of synonyms (alternate EDAM format terms) equivalent to this EDAM format term",
                  "type": "string",
                  "constraints": {
                     "pattern": "^(format:[0-9]+|)*format:[0-9]+$"
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "id"
         },
         "deriva": {
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "List of files referencing this format.",
                     "source": [
                        {"inbound": ["CFDE", "file_file_format_fkey"]},
                        "RID"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "List of collections referencing this format.",
                     "source": [
                        {"inbound": ["CFDE", "file_file_format_fkey"]},
                        {"inbound": ["CFDE", "file_in_collection_file_fkey"]},
                        {"outbound": ["CFDE", "file_in_collection_collection_fkey"]},
                        "RID"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description"
               ]
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_collection"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "data_type",
         "title": "Data Type",
         "description": "List of EDAM CV 'data:' terms used to describe data in files in this dataset",
         "schema": {
            "fields": [
               {
                  "name": "id",
                  "description": "An EDAM CV data term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true,
                     "pattern": "^data:[0-9]+$"
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this EDAM data term",
                  "type": "string",
                  "constraint": {
                     "unique": true
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this EDAM data term",
                  "type": "string"
               },
               {
                  "name": "synonyms",
                  "description": "Pipe-separated list of synonyms (alternate EDAM data terms) equivalent to this EDAM data term",
                  "type": "string",
                  "constraints": {
                     "pattern": "^(data:[0-9]+|)*data:[0-9]+$"
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "id"
         },
         "deriva": {
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "List of files referencing this data type.",
                     "source": [
                        {"inbound": ["CFDE", "file_data_type_fkey"]},
                        "RID"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "List of collections referencing this format.",
                     "source": [
                        {"inbound": ["CFDE", "file_data_type_fkey"]},
                        {"inbound": ["CFDE", "file_in_collection_file_fkey"]},
                        {"outbound": ["CFDE", "file_in_collection_collection_fkey"]},
                        "RID"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description"
               ]
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_collection"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "subject_role",
         "title": "Subject Role",
         "path": "subject_role.tsv",
         "description": "INTERNAL CV: The ontological role of an organism-level constituent component of a subject, e.g.: unitary organism (e.g. 'this subject represents a single orchid and that's it'), host, pathogen, symbiont, taxon detected in microbiome, host associated with microbiome, taxon in lineage of cell line, etc.",
         "schema": {
            "fields": [
               {
                  "name": "id",
                  "description": "A globally unique ID representing this subject_role",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this subject_role",
                  "type": "string",
                  "constraint": {
                     "unique": true
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this subject_role",
                  "type": "string"
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "id"
         },
         "deriva": {
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "List of subjects referencing this subject role.",
                     "source": [
                         {"inbound": ["CFDE", "subject_role_taxonomy_role_fkey"]},
                         "RID"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "List of collections referencing this subject role.",
                     "source": [
                         {"inbound": ["CFDE", "collection_subject_role_taxonomy_role_fkey"]},
                         "RID"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "List of files referencing this subject role.",
                     "source": [
                         {"inbound": ["CFDE", "file_subject_role_taxonomy_role_fkey"]},
                         "RID"
                     ]
                  }
                }
             },
             "visible_foreign_keys": {
                "*": [
                    {"sourcekey": "S_subject"},
                    {"sourcekey": "S_file"},
                    {"sourcekey": "S_collection"}
                ]
             }
          }
      },
      {
         "profile": "tabular-data-resource",
         "name": "subject_granularity",
         "title": "Subject Granularity",
         "path": "subject_granularity.tsv",
         "description": "INTERNAL CV: The category of a subject in terms of multiplicity, e.g.: single organism; enumerated group of organisms and their relationships to one another (e.g. host X plus endosymbiont Y); host-associated microbiome; environmental microbiome; cell line",
         "schema": {
            "fields": [
               {
                  "name": "id",
                  "description": "A globally unique ID representing this subject_granularity",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this subject_granularity",
                  "type": "string",
                  "constraint": {
                     "unique": true
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this subject_granularity",
                  "type": "string"
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "id"
         },
         "deriva": {
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "List of subjects referencing this subject granularity.",
                     "source": [
                         {"inbound": ["CFDE",  "subject_granularity_fkey"]},
                         "RID"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "List of collections referencing this subject granularity.",
                     "source": [
                         {"inbound": ["CFDE", "collection_subject_granularity_granularity_fkey"]},
                         {"outbound": ["CFDE", "collection_subject_granularity_collection_fkey"]},
                         "RID"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "List of files referencing this subject granularity.",
                     "source": [
                         {"inbound": ["CFDE",  "file_subject_granularity_granularity_fkey"]},
                         {"outbound": ["CFDE",  "file_subject_granularity_file_fkey"]},
                         "RID"
                     ]
                  }
                }
             },
           "visible_columns": {
              "*": [
                 "id",
                 "name",
                 "description"
              ]
           },
             "visible_foreign_keys": {
                "*": [
                   {"sourcekey": "S_subject"},
                   {"sourcekey": "S_file"},
                   {"sourcekey": "S_collection"}
                ]
             }
          }
      },
      {
         "profile": "tabular-data-resource",
         "name": "id_namespace",
         "title": "ID Namespace",
         "description": "INTERNAL CV: Dictionary of CFDE-generated identifier namespaces corresponding to top-level C2M2 metadatasets",
         "schema": {
            "fields": [
               {
                  "name": "id",
                  "description": "A globally unique ID representing this identifier namespace",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "abbreviation",
                  "description": "A very short display label for this identifier namespace",
                  "type": "string",
                  "constraints": {
                     "pattern": "^[a-zA-Z0-9_]+$"
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this identifier namespace",
                  "type": "string"
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this identifier namespace",
                  "type": "string"
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "id"
         }
      },

      {
         "profile": "tabular-data-resource",
         "name": "project_root",
         "title": "Root Project",
         "description": "Top-level projects not declared a sub-project of any other.",
         "schema": {
            "fields": [
               {
                  "name": "project_id_namespace",
                  "description": "Identifier namespace for the project",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_local_id",
                  "description": "The ID of this project",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "project_id_namespace",
               "project_local_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "project_id_namespace", "project_local_id" ],
                  "constraint_name": "project_root_project_fkey",
                  "reference": {
                     "title": "Project",
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         },
         "derivation_sql_path": "project_root.sql"
      },

      {
         "profile": "tabular-data-resource",
         "name": "file_subject_granularity",
         "title": "file_subject_granularity",
         "description": "Collapsed association of subject-granularities for subjects described by file",
         "schema": {
            "fields": [
               {
                  "name": "file_id_namespace",
                  "description": "Identifier namespace for this file",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "file_local_id",
                  "description": "The ID of this file",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_granularity",
                  "description": "A CFDE CV term categorizing described subject by multiplicity",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "file_id_namespace",
               "file_local_id",
               "subject_granularity"
            ],
            "foreignKeys": [
               {
                  "fields": [ "file_id_namespace", "file_local_id" ],
                  "constraint_name": "file_subject_granularity_file_fkey",
                  "reference": {
                     "title": "Characterized File",
                     "resource": "file",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": "subject_granularity",
                  "constraint_name": "file_subject_granularity_granularity_fkey",
                  "reference": {
                     "title": "Subject Granularity",
                     "resource": "subject_granularity",
                     "fields": "id"
                  }
               }
            ]
         },
         "derivation_sql_path": "file_subject_granularity.sql"
      },

      {
         "profile": "tabular-data-resource",
         "name": "biosample_assay_type",
         "title": "biosample_assay_type",
         "description": "Collapsed association of file-assay-types for biosamples described by file",
         "schema": {
            "fields": [
               {
                  "name": "biosample_id_namespace",
                  "description": "Identifier namespace for this biosample",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "biosample_local_id",
                  "description": "The ID of this biosample",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "assay_type",
                  "description": "A CFDE CV term categorizing described biosample assay-type",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "biosample_id_namespace",
               "biosample_local_id",
               "assay_type"
            ],
            "foreignKeys": [
               {
                  "fields": [ "biosample_id_namespace", "biosample_local_id" ],
                  "constraint_name": "biosample_assay_type_biosample_fkey",
                  "reference": {
                     "title": "Characterized Biosample",
                     "resource": "biosample",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": "assay_type",
                  "constraint_name": "biosample_assay_type_assay_type_fkey",
                  "reference": {
                     "title": "Assay Type",
                     "resource": "assay_type",
                     "fields": "id"
                  }
               }
            ]
         },
         "derivation_sql_path": "biosample_assay_type.sql"
      },

      {
         "profile": "tabular-data-resource",
         "name": "subject_species",
         "title": "subject_species",
         "description": "Collapsed association of subject-species, simplifying subject-role-taxonomy association",
         "schema": {
            "fields": [
               {
                  "name": "subject_id_namespace",
                  "description": "Identifier namespace for this subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_local_id",
                  "description": "The ID of this subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "species",
                  "description": "A CFDE CV term categorizing described subject species, drawn from NCBI Taxonomy",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "subject_id_namespace",
               "subject_local_id",
               "species"
            ],
            "foreignKeys": [
               {
                  "fields": [ "subject_id_namespace", "subject_local_id" ],
                  "constraint_name": "subject_species_subject_fkey",
                  "reference": {
                     "title": "Characterized Subject",
                     "resource": "subject",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": "species",
                  "constraint_name": "subject_species_species_fkey",
                  "reference": {
                     "title": "Species",
                     "resource": "ncbi_taxonomy",
                     "fields": "id"
                  }
               }
            ]
         },
         "derivation_sql_path": "subject_species.sql"
      },

      {
         "profile": "tabular-data-resource",
         "name": "file_subject_role_taxonomy",
         "title": "file_subject_role_taxonomy",
         "description": "Collapsed association of subject-role-taxonomies for subjects described by file",
         "schema": {
            "fields": [
               {
                  "name": "file_id_namespace",
                  "description": "Identifier namespace for this file",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "file_local_id",
                  "description": "The ID of this file",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_role_id",
                  "description": "The ID of the role assigned to this organism-level constituent component of described subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_taxonomy_id",
                  "description": "An NCBI Taxonomy Database ID identifying taxon of described subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "file_id_namespace",
               "file_local_id",
               "subject_role_id",
               "subject_taxonomy_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "file_id_namespace", "file_local_id" ],
                  "constraint_name": "file_subject_role_taxonomy_file_fkey",
                  "reference": {
                     "title": "Characterized File",
                     "resource": "file",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": "subject_role_id",
                  "constraint_name": "file_subject_role_taxonomy_role_fkey",
                  "reference": {
                     "resource": "subject_role",
                     "fields": "id"
                  }
               },
               {
                  "fields": "subject_taxonomy_id",
                  "constraint_name": "file_subject_role_taxonomy_taxonomy_fkey",
                  "reference": {
                     "resource": "ncbi_taxonomy",
                     "fields": "id"
                  }
               }
            ]
         },
         "derivation_sql_path": "file_subject_role_taxonomy.sql"
      },

      {
         "profile": "tabular-data-resource",
         "name": "file_biosample_creation_time",
         "title": "file_biosample_creation_time",
         "description": "Collapsed association of biosample-creation-times for biosamples described by file",
         "schema": {
            "fields": [
               {
                  "name": "file_id_namespace",
                  "description": "Identifier namespace for this file",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "file_local_id",
                  "description": "The ID of this file",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "biosample_creation_time",
                  "description": "An ISO 8601 -- RFC 3339 (subset)-compliant timestamp documenting desribed biosamples' creation time: YYYY-MM-DDTHH:MM:SSÂ±NN:NN",
                  "type": "datetime",
                  "format": "any"
               }
            ],
            "primaryKey": [
               "file_id_namespace",
               "file_local_id",
               "biosample_creation_time"
            ],
            "foreignKeys": [
               {
                  "fields": [ "file_id_namespace", "file_local_id" ],
                  "constraint_name": "file_biosample_creation_time_file_fkey",
                  "reference": {
                     "title": "Characterized File",
                     "resource": "file",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         },
         "derivation_sql_path": "file_biosample_creation_time.sql"
      },

      {
         "profile": "tabular-data-resource",
         "name": "file_anatomy",
         "title": "file_anatomy",
         "description": "Collapsed association of anatomies described by file",
         "schema": {
            "fields": [
               {
                  "name": "file_id_namespace",
                  "description": "Identifier namespace for this file",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "file_local_id",
                  "description": "The ID of this file",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "anatomy",
                  "description": "An UBERON CV term ID used to locate the origin of this biosample within the physiology of its source or host organism",
                  "type": "string",
                  "constraints": {
                     "pattern": "^UBERON:[0-9]+$"
                  }
               }
            ],
            "primaryKey": [
               "file_id_namespace",
               "file_local_id",
               "anatomy"
            ],
            "foreignKeys": [
               {
                  "fields": [ "file_id_namespace", "file_local_id" ],
                  "constraint_name": "file_anatomy_file_fkey",
                  "reference": {
                     "title": "Characterized File",
                     "resource": "file",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": "anatomy",
                  "constraint_name": "file_anatomy_fkey",
                  "reference": {
                     "resource": "anatomy",
                     "fields": "id"
                  }
               }
            ]
         },
         "derivation_sql_path": "file_anatomy.sql"
      },

      {
         "profile": "tabular-data-resource",
         "name": "project_in_project_transitive",
         "title": "project_in_project_transitive",
         "description": "Reflexive transitive-closure of project_in_project relationship",
         "schema": {
            "fields": [
               {
                  "name": "leader_project_id_namespace",
                  "description": "ID of the identifier namespace for the leader in this leader-member project pair",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "leader_project_local_id",
                  "description": "The ID of the leader (containing) project",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "member_project_id_namespace",
                  "description": "ID of the identifier namespace for the member in this leader-member project pair",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "member_project_local_id",
                  "description": "The ID of the member (contained or reflexive) project",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "leader_project_id_namespace",
               "leader_project_local_id",
               "member_project_id_namespace",
               "member_project_local_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "leader_project_id_namespace", "leader_project_local_id" ],
                  "constraint_name": "project_in_project_transitive_leader_fkey",
                  "reference": {
                     "title": "Leader Project",
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "member_project_id_namespace", "member_project_local_id" ],
                  "constraint_name": "project_in_project_transitive_member_fkey",
                  "reference": {
                     "title": "Member Project",
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         },
         "deriva": {
            "indexing_preferences": {
               "btree": false,
               "trgm": false
            }
         },
         "derivation_sql_path": "project_in_project_transitive.sql"
      },

      {
         "profile": "tabular-data-resource",
         "name": "collection_project_root",
         "title": "collection_project_root",
         "description": "Collapsed association of root projects for each collection",
         "schema": {
            "fields": [
               {
                  "name": "collection_id_namespace",
                  "description": "Identifier namespace for this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection_local_id",
                  "description": "The ID of this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_id_namespace",
                  "description": "Identifier namespace for the project",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_local_id",
                  "description": "The ID of this project",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "collection_id_namespace",
               "collection_local_id",
               "project_id_namespace",
               "project_local_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "collection_id_namespace", "collection_local_id" ],
                  "constraint_name": "collection_project_root_collection_fkey",
                  "reference": {
                     "title": "Characterized Collection",
                     "resource": "collection",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "project_id_namespace", "project_local_id" ],
                  "constraint_name": "collection_project_root_project_fkey",
                  "reference": {
                     "title": "Project",
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         },
         "derivation_sql_path": "collection_project_root.sql"
      },

      {
         "profile": "tabular-data-resource",
         "name": "collection_in_collection_transitive",
         "title": "collection_in_collection_transitive",
         "description": "Reflexive transitive-closure of collection_in_collection relationship",
         "schema": {
            "fields": [
               {
                  "name": "leader_collection_id_namespace",
                  "description": "ID of the identifier namespace for the leader in this leader-member collection pair",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "leader_collection_local_id",
                  "description": "The ID of the leader (containing) collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "member_collection_id_namespace",
                  "description": "ID of the identifier namespace for the member in this leader-member collection pair",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "member_collection_local_id",
                  "description": "The ID of the member (contained or reflexive) collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "leader_collection_id_namespace",
               "leader_collection_local_id",
               "member_collection_id_namespace",
               "member_collection_local_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "leader_collection_id_namespace", "leader_collection_local_id" ],
                  "constraint_name": "collection_in_collection_transitive_leader_fkey",
                  "reference": {
                     "title": "Leader Collection",
                     "resource": "collection",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "member_collection_id_namespace", "member_collection_local_id" ],
                  "constraint_name": "collection_in_collection_transitive_member_fkey",
                  "reference": {
                     "title": "Member Collection",
                     "resource": "collection",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         },
         "derivation_sql_path": "collection_in_collection_transitive.sql"
      },

      {
         "profile": "tabular-data-resource",
         "name": "collection_subject_granularity",
         "title": "collection_subject_granularity",
         "description": "Collapsed association of subject-granularities for subjects described by collection",
         "schema": {
            "fields": [
               {
                  "name": "collection_id_namespace",
                  "description": "Identifier namespace for this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection_local_id",
                  "description": "The ID of this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_granularity",
                  "description": "A CFDE CV term categorizing described subject by multiplicity",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "collection_id_namespace",
               "collection_local_id",
               "subject_granularity"
            ],
            "foreignKeys": [
               {
                  "fields": [ "collection_id_namespace", "collection_local_id" ],
                  "constraint_name": "collection_subject_granularity_collection_fkey",
                  "reference": {
                     "title": "Characterized Collection",
                     "resource": "collection",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": "subject_granularity",
                  "constraint_name": "collection_subject_granularity_granularity_fkey",
                  "reference": {
                     "title": "Subject Granularity",
                     "resource": "subject_granularity",
                     "fields": "id"
                  }
               }
            ]
         },
         "derivation_sql_path": "collection_subject_granularity.sql"
      },

      {
         "profile": "tabular-data-resource",
         "name": "collection_subject_role_taxonomy",
         "title": "collection_subject_role_taxonomy",
         "description": "Collapsed association of subject-role-taxonomies for subjects described by collection",
         "schema": {
            "fields": [
               {
                  "name": "collection_id_namespace",
                  "description": "Identifier namespace for this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection_local_id",
                  "description": "The ID of this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_role_id",
                  "description": "The ID of the role assigned to this organism-level constituent component of described subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_taxonomy_id",
                  "description": "An NCBI Taxonomy Database ID identifying taxon of described subject",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "collection_id_namespace",
               "collection_local_id",
               "subject_role_id",
               "subject_taxonomy_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "collection_id_namespace", "collection_local_id" ],
                  "constraint_name": "collection_subject_role_taxonomy_collection_fkey",
                  "reference": {
                     "title": "Characterized Collection",
                     "resource": "collection",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": "subject_role_id",
                  "constraint_name": "collection_subject_role_taxonomy_role_fkey",
                  "reference": {
                     "resource": "subject_role",
                     "fields": "id"
                  }
               },
               {
                  "fields": "subject_taxonomy_id",
                  "constraint_name": "collection_subject_role_taxonomy_taxonomy_fkey",
                  "reference": {
                     "resource": "ncbi_taxonomy",
                     "fields": "id"
                  }
               }
            ]
         },
         "derivation_sql_path": "collection_subject_role_taxonomy.sql"
      },

      {
         "profile": "tabular-data-resource",
         "name": "collection_biosample_creation_time",
         "title": "collection_biosample_creation_time",
         "description": "Collapsed association of biosample-creation-times for biosamples described by collection",
         "schema": {
            "fields": [
               {
                  "name": "collection_id_namespace",
                  "description": "Identifier namespace for this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection_local_id",
                  "description": "The ID of this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "biosample_creation_time",
                  "description": "An ISO 8601 -- RFC 3339 (subset)-compliant timestamp documenting desribed biosamples' creation time: YYYY-MM-DDTHH:MM:SSÂ±NN:NN",
                  "type": "datetime",
                  "format": "any",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "collection_id_namespace",
               "collection_local_id",
               "biosample_creation_time"
            ],
            "foreignKeys": [
               {
                  "fields": [ "collection_id_namespace", "collection_local_id" ],
                  "constraint_name": "collection_biosample_creation_time_collection_fkey",
                  "reference": {
                     "title": "Characterized Collection",
                     "resource": "collection",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               }
            ]
         },
         "derivation_sql_path": "collection_biosample_creation_time.sql"
      },

      {
         "profile": "tabular-data-resource",
         "name": "collection_assay_type",
         "title": "collection_assay_type",
         "description": "Collapsed association of assay-types described by collection",
         "schema": {
            "fields": [
               {
                  "name": "collection_id_namespace",
                  "description": "Identifier namespace for this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection_local_id",
                  "description": "The ID of this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "assay_type",
                  "description": "An OBI CV term ID describing the type of material represented by this collection",
                  "type": "string",
                  "constraints": {
                     "pattern": "^OBI:[0-9]+$"
                  },
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "collection_id_namespace",
               "collection_local_id",
               "assay_type"
            ],
            "foreignKeys": [
               {
                  "fields": [ "collection_id_namespace", "collection_local_id" ],
                  "constraint_name": "collection_assay_type_collection_fkey",
                  "reference": {
                     "title": "Characterized Collection",
                     "resource": "collection",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": "assay_type",
                  "constraint_name": "collection_assay_type_fkey",
                  "reference": {
                     "resource": "assay_type",
                     "fields": "id"
                  }
               }
            ]
         },
         "derivation_sql_path": "collection_assay_type.sql"
      },

      {
         "profile": "tabular-data-resource",
         "name": "collection_anatomy",
         "title": "collection_anatomy",
         "description": "Collapsed association of anatomies described by collection",
         "schema": {
            "fields": [
               {
                  "name": "collection_id_namespace",
                  "description": "Identifier namespace for this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection_local_id",
                  "description": "The ID of this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "anatomy",
                  "description": "An UBERON CV term ID used to locate the origin of this biosample within the physiology of its source or host organism",
                  "type": "string",
                  "constraints": {
                     "pattern": "^UBERON:[0-9]+$"
                  },
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "collection_id_namespace",
               "collection_local_id",
               "anatomy"
            ],
            "foreignKeys": [
               {
                  "fields": [ "collection_id_namespace", "collection_local_id" ],
                  "constraint_name": "collection_anatomy_collection_fkey",
                  "reference": {
                     "title": "Characterized Collection",
                     "resource": "collection",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": "anatomy",
                  "constraint_name": "collection_anatomy_fkey",
                  "reference": {
                     "resource": "anatomy",
                     "fields": "id"
                  }
               }
            ]
         },
         "derivation_sql_path": "collection_anatomy.sql"
      },

      {
         "profile": "tabular-data-resource",
         "name": "level1_stats",
         "title": "Core Statistics",
         "description": "Basic statistical roll-up of core entities by metadata combination.",
         "schema": {
            "fields": [
               {
                  "name": "root_project_id_namespace",
                  "description": "Identifier namespace for attributed root project (DCC)",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "root_project_local_id",
                  "description": "The ID of attributed root project (DCC)",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_id_namespace",
                  "description": "Identifier namespace for attributed project",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_local_id",
                  "description": "The ID of attributed project",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "assay_type_id",
                  "description": "A CFDE CV term for generated file assay types",
                  "type": "string"
               },
               {
                  "name": "data_type_id",
                  "description": "A CFDE CV term for generated file data types",
                  "type": "string"
               },
               {
                  "name": "file_format_id",
                  "description": "A CFDE CV term for generated file format types",
                  "type": "string"
               },
               {
                  "name": "anatomy_id",
                  "description": "A CFDE CV term for anatomical sources of collected biosamples",
                  "type": "string"
               },
               {
                  "name": "granularity_id",
                  "description": "A CFDE CV term for granularity of described subjects",
                  "type": "string"
               },
               {
                  "name": "species_id",
                  "description": "A CFDE CV term for single organism subject species, a subset of subject taxonomy concepts",
                  "type": "string"
               },
               {
                  "name": "num_files",
                  "description": "The number of files related to this combination of metadata terms",
                  "type": "integer"
               },
               {
                  "name": "num_bytes",
                  "description": "The total size in bytes of files related to this combination of metadata terms",
                  "type": "integer"
               },
               {
                  "name": "num_biosamples",
                  "description": "The number of biosamples related to this combination of metadata terms",
                  "type": "integer"
               },
               {
                  "name": "num_subjects",
                  "description": "The number of subjects related to this combination of metadata terms",
                  "type": "integer"
               }
            ],
            "primaryKey": [
               "project_id_namespace",
               "project_local_id",
               "assay_type_id",
               "data_type_id",
               "file_format_id",
               "anatomy_id",
               "granularity_id",
               "species_id"
            ],
            "foreignKeys": [
               {
                  "fields": [ "root_project_id_namespace", "root_project_local_id" ],
                  "constraint_name": "level1_stats_root_project_fkey",
                  "reference": {
                     "title": "Attributed Root Project",
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": [ "project_id_namespace", "project_local_id" ],
                  "constraint_name": "level1_stats_project_fkey",
                  "reference": {
                     "title": "Attributed Project",
                     "resource": "project",
                     "fields": [ "id_namespace", "local_id" ]
                  }
               },
               {
                  "fields": "assay_type_id",
                  "constraint_name": "level1_stats_assay_type_fkey",
                  "reference": {
                     "title": "Assay Type",
                     "resource": "assay_type",
                     "fields": "id"
                  }
               },
               {
                  "fields": "data_type_id",
                  "constraint_name": "level1_stats_data_type_fkey",
                  "reference": {
                     "title": "Data Type",
                     "resource": "data_type",
                     "fields": "id"
                  }
               },
               {
                  "fields": "file_format_id",
                  "constraint_name": "level1_stats_file_format_fkey",
                  "reference": {
                     "title": "File Format",
                     "resource": "file_format",
                     "fields": "id"
                  }
               },
               {
                  "fields": "anatomy_id",
                  "constraint_name": "level1_stats_anatomy_fkey",
                  "reference": {
                     "title": "Anatomy",
                     "resource": "anatomy",
                     "fields": "id"
                  }
               },
               {
                  "fields": "granularity_id",
                  "constraint_name": "level1_stats_granularity_fkey",
                  "reference": {
                     "title": "Subject Granularity",
                     "resource": "subject_granularity",
                     "fields": "id"
                  }
               },
               {
                  "fields": "species_id",
                  "constraint_name": "level1_stats_species_fkey",
                  "reference": {
                     "title": "Subject Species",
                     "resource": "ncbi_taxonomy",
                     "fields": "id"
                  }
               }
            ]
         },
         "deriva": {
            "table_display": {
               "row_name": {
                  "row_markdown_pattern": "{{_project_id_namespace}}{{_project_local_id}} {{assay_type_id}} {{data_type_id}} {{file_format_id}} {{anatomy_id}} {{granularity_id}} {{species_id}}"
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_root_project": {
                     "comment": "A root project (DCC) to which a set of C2M2 entities is implicitly attributed.",
                     "source": [{"outbound": ["CFDE", "level1_stats_root_project_fkey"]}, "RID"]
                  },
                  "S_project": {
                     "comment": "A particular project to which a set of C2M2 entities is explicitly attributed.",
                     "source": [{"outbound": ["CFDE", "level1_stats_project_fkey"]}, "RID"]
                  },
                  "S_assay_type": {
                     "comment": "An assay-type CV term associated with a set of C2M2 entities.",
                     "source": [{"outbound": ["CFDE", "level1_stats_assay_type_fkey"]}, "RID"]
                  },
                  "S_data_type": {
                     "comment": "A data-type  CV term associated with a set of C2M2 entities.",
                     "source": [{"outbound": ["CFDE", "level1_stats_data_type_fkey"]}, "RID"]
                  },
                  "S_file_format": {
                     "comment": "A file-format  CV term associated with a set of C2M2 entities.",
                     "source": [{"outbound": ["CFDE", "level1_stats_file_format_fkey"]}, "RID"]
                  },
                  "S_anatomy": {
                     "comment": "An anatomy CV term associated with a set of C2M2 entities.",
                     "source": [{"outbound": ["CFDE", "level1_stats_anatomy_fkey"]}, "RID"]
                  },
                  "S_granularity": {
                     "comment": "A subject granularity CV term associated with a set of C2M2 entities.",
                     "source": [{"outbound": ["CFDE", "level1_stats_granularity_fkey"]}, "RID"]
                  },
                  "S_species": {
                     "comment": "A single-organism subject species CV term associated with a set of C2M2 entities.",
                     "source": [{"outbound": ["CFDE", "level1_stats_species_fkey"]}, "RID"]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  {"sourcekey": "S_root_project"},
                  {"sourcekey": "S_project"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_data_type"},
                  {"sourcekey": "S_file_format"},
                  {"sourcekey": "S_anatomy"},
                  {"sourcekey": "S_granularity"},
                  {"sourcekey": "S_species"},
                  {"source": "num_files"},
                  {"source": "num_bytes"},
                  {"source": "num_biosamples"},
                  {"source": "num_subjects"}
               ],
               "compact": [
                  {"sourcekey": "S_project"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_data_type"},
                  {"sourcekey": "S_file_format"},
                  {"sourcekey": "S_anatomy"},
                  {"sourcekey": "S_granularity"},
                  {"sourcekey": "S_species"},
                  {
                     "markdown_name": "Counts",
                     "source": "num_files",
                     "comment": "Summary counts of file, biosample, and subjects related to each combination of metadata terms.",
                     "display": {
                        "markdown_pattern": "{{#_num_files}}- {{num_files}} files\n{{/_num_files}}{{#_num_biosamples}}- {{num_biosamples}} biosamples\n{{/_num_biosamples}}{{#_num_subjects}}- {{num_subjects}} subjects\n{{/_num_subjects}}"
                     }
                  }
               ],
               "filter": {"and": [
                  {"sourcekey": "S_root_project"},
                  {"sourcekey": "S_project"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_data_type"},
                  {"sourcekey": "S_file_format"},
                  {"sourcekey": "S_anatomy"},
                  {"sourcekey": "S_granularity"},
                  {"sourcekey": "S_species"},
                  {"source": "num_files"},
                  {"source": "num_bytes"},
                  {"source": "num_biosamples"},
                  {"source": "num_subjects"}
               ]}
            }
         },
         "derivation_sql_path": "level1_stats.sql"
      }

   ]
}
